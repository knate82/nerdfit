<link rel="import" href="../../../bower_components/polymer/polymer-element.html">

<dom-module id="nf-account">
        <template is="dom-if" if="{{!user.signedIn}}">
            <style>
                :host {
                    align-self: center;
                }
                iron-form {
                    margin: 0;
                    padding: 1.5em;
                    display: flex;
                    flex-direction: column;
                    justify-content: space-around;
                }
                paper-dialog {
                    min-width: 300px;
                    max-width: 400px;
                    border-radius: 15px;
                }
                paper-dialog paper-button {
                    align-self: flex-end;
                    background-color: var(--blue);
                    color: var(--white);
                }
            </style>
            <paper-button on-tap='toggleForm'>Login</paper-button>

            <paper-dialog id="form" entry-animation="scale-up-animation" exit-animation="fade-out-animation" with-backdrop>
                <iron-form id="loginForm" on-iron-form-presubmit="formPreSubmit">
                    <form>
                        <paper-input id="email" error-message="Invalid Email Address" label="Email" type="email" min-length="5"></paper-input>
                        <paper-input id="password" label="Password" type="password"></paper-input>
                        <paper-button on-tap="loginSubmit(email, password)" raised >Submit</paper-button>
                    </form>
                </iron-form>
            </paper-dialog>

        </template>
        <template is="dom-if" if="{{user.signedIn}}">
            <style>

            </style>

            <!-- Profile Picture -->
            <!-- Profile Specific Controls -->

        </template>
    <script>
        /**
         * @customElement
         * @polymer
         */
        class NfAccount extends Polymer.Element {
            static get is() { return 'nf-account'; }

            toggleForm() {
                this.$.form.toggle();
            }
            loginSubmit(email, password) {
                //var loginData = this.$.loginForm.serializeForm();
//                if(this.$.loginForm.email && this.$.loginForm.password) {
//                    console.log(this.$.loginForm);
//                }
                console.log(email);

//                this.$.auth.signInWithEmailAndPassword(email, password)
//                    .then(function(response) { alert('Hello'); })
//                    .catch(function(error) { alert('Try again Hooker'); });
            }
        }

        window.customElements.define(NfAccount.is, NfAccount);

    </script>
</dom-module>